註： 以下文件乃編改自清大楓橋驛站 Maple BBS 3.02 版之使用手冊。
Feature Guide                                                  [WindTopBBS]
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

                          WindTopBBS Ver 3.02

                             風之塔的特色

               Modified by 元智資工  沈俊興(statue.bbs@bbs.yzu.edu.tw)

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

                        目      錄

                (一) 新增功能部分

                (二) 修正功能部分

                (三) 移除功能部分

                (四) xover.c 的架構

─────────────────────────────────────
(一) 新增功能部分
─────────────────────────────────────

     1  ◆ [新增]自動處罰程式, 自動抓 cross post
     2  ◆ [新增]DIR 與 ACCT 重建程式
     3  ◆ [新增]擋信功能
     4  ◆ [新增]排行榜
     5  ◆ [新增]POP3 server 連結功能
     6  ◆ [新增]學生郵件系統
     7  ◆ [新增]備忘錄
     8  ◆ [新增]聯絡名單, 功能像 OutLook 的通訊錄
     9  ◆ [新增]處罰名單
    10  ◆ [新增]連署系統
    11  ◆ [新增]動態載入聊天室動詞, 不需重開即可加指令
    12  ◆ [新增]個人功課表
    13  ◆ [新增]站管列表
    14  ◆ [新增]好友上站通知
    15  ◆ [新增]象棋
    16  ◆ [新增]備份系統
    17  ◆ [新增]E-mail檢查
    18  ◆ [新增]寄信給全站
    19  ◆ [新增]版主確認, 每半年一次
    20  ◆ [新增]更新系統檔案
    21  ◆ [新增]特殊搜尋
    22  ◆ [新增]系統重置
    23  ◆ [新增]POP3 認證
    24  ◆ [新增]預覽投票結果
    25  ◆ [新增]點歌系統
    26  ◆ [新增]Every_U
    27  ◆ [新增]拒收廣播
    28  ◆ [新增]公告區
    29  ◆ [新增]系統投票
    30  ◆ [新增]系統投票結果
    31  ◆ [新增]信箱設限, 超過 quota 無法退出信箱
    32  ◆ [新增]版面文章鎖定
    33  ◆ [新增]隱藏來源
    34  ◆ [新增]自動附加 E-mail
    35  ◆ [新增]自動轉寄
    36  ◆ [新增]程式版本資訊
    37  ◆ [新增]精華區總管
    38  ◆ [新增]站內擋信紀錄
    39  ◆ [新增]undelete功能
    40  ◆ [新增]點歌系統 04/14
    41  ◆ [新增]黑/白認證名單 04/26
    42  ◆ [新增]群組寄信名單 5/8
    43  ◆ [新增]電子寵物雞程式 05/26
    44  ◆ [新增]重建使用者序號 makeuserno.c 06/08
    45  ◆ [新增]二手市場功能 06/13
    46  ◆ [新增]群組寄信名單 06/13
    47  ◆ [新增]情書產生器 lovepaper.c 06/13
    48  ◆ [新增]防止灌水功能 06/16
    49  ◆ [新增]主動餵信 outgo.c 06/22
    50  ◆ [新增]自動寄出密碼信 06/22
    51  ◆ [新增]擋信列表使用率的欄位 6/22
    52  ◆ [新增]POP3 取站上信件錯誤紀錄至個人上站紀錄 06/27
    53  ◆ [新增]POP3 取信服務 06/27
    54  ◆ [新增]POP3 取信服務新增 MIME 解碼 06/28

─────────────────────────────────────
(二) 修正功能部分
─────────────────────────────────────

    較大的修正為修正好友名單讀取方式，降低 load。

    by visor.bbs@bbs.yzu.edu.tw
    在使用者清單裡，使用者可以看到對方設你為好友，
    或看不到對方設你為壞人，這原本是沒有的功能，

    後來我加上去了，
    但是是以讀對方使用者名單的方式來知道有沒有被設為好友或壞人，
    這樣，使用者名單有多少人就要讀幾次  好人次數加壞人次數還有能不能傳訊，
    共讀了4次，所以 io 的 load 很重。

    不過我改了，放共享記憶體的方式 UTMP 裡，讓對方也能讀取，
    加快了 io 動作，只要對方的使用者名單更新過後，
    你也可以讀到對方的使用者名單，完全關閉了那4次的 io 動作。

    不過是有點浪費記憶體，不過還好不多。
    算一算，站上如果有 1000 人，
    才用掉  1000 * 4byte * (好友名單最大數)
          = 1000 * 4 * (400)  byte
          = 1000 * 1600 byte
          = 1.6 mb 的記憶體
    並不會太多。

    ^^  這是值得的

     1  ◆ [修正]聊天選單, page 與 massage 分開
     2  ◆ [修正]火車時刻表
     3  ◆ [修正]輸入部分
     4  ◆ [修正]專業討論區
     5  ◆ [修正]真實姓名
     6  ◆ [修正]系統資訊
     7  ◆ [修正]精華區收錄方式
     8  ◆ [修正]水桶名單
     9  ◆ [修正]Ban 來源
    10  ◆ [修正]閒置過久警告
    11  ◆ [修正]文章主題
    12  ◆ [修正]鎖定螢幕
    13  ◆ [修正]空(Class)不顯示
    14  ◆ [修正]寄信給站長
    15  ◆ [修正]拂花落楓斬
    16  ◆ [修正]發文公告
    17  ◆ [修正]查詢網友新信封數
    18  ◆ [修正]簽名擋附加方式
    19  ◆ [修正]控制碼選項
    20  ◆ [修正]動態看板
    21  ◆ [修正]熱訊查看長度
    22  ◆ [修正]使用者編號重複
    23  ◆ [修正]未註冊成功者暱稱為旅客 03/18
    24  ◆ [修正]上站通知重複引入的問題 5/18
    25  ◆ [修正]好友列表過長 06/18
    26  ◆ [修正]轉錄轉信文章會出現卡住的現象 06/18

─────────────────────────────────────
(三) 移除功能部分
─────────────────────────────────────

     1  ◇ [移除]刪除過期信件  maple/mail.c


─────────────────────────────────────
(四) xover.c 的架構
─────────────────────────────────────

               ┌─────────────────────┐
               │                                          │
               │               xover(XZ)                  │
               │                                          │
               └─┬───────┬───────┬───┘
                   │              │              │  ...................
             ┌──┴──┐
             │ XO *xo   │選單物件
             │ KeyF db  │函式資料庫......................
             │ mode     │選單模式
             └──┬──┘
             ┌──┴──┐
             │ XO_INIT  │載入資料->XO_HEAD->XO_BODY.......
             └──┬──┘
             ┌──┴──┐
             │ XO_LOAD  │載入資料->XO_BODY................
             └──┬──┘
             ┌──┴──┐
             │ XO_HEAD  │重劃螢幕->XO_BODY................
             └──┬──┘
             ┌──┴──┐
             │ XO_BODY  │列出選單.........................
             └──┬──┘
             ┌──┴──┐
             │  KeyFun  │其他的函式.......................
             └─────┘


--
                                                    元智資工 沈俊興
                                        E-Mail: <statue.bbs@bbs.yzu.edu.tw>
